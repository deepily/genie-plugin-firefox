<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Editor</title>
  <script>
    window.addEventListener( "DOMContentLoaded", async (event) => {

      console.log( "DOMContentLoaded" );

      const myEditor = document.getElementById( "editor" );

      myEditor.addEventListener("selectionchange", () => {
        document.getElementById("start").textContent     = myEditor.selectionStart;
        document.getElementById("end").textContent       = myEditor.selectionEnd;
        document.getElementById("direction").textContent = myEditor.selectionDirection;
        selectedText = myEditor.value.substring(myEditor.selectionStart, myEditor.selectionEnd );
        document.getElementById("selection").textContent = selectedText;

        if (selectedText.length > 0) {
            const writeCmd = navigator.clipboard.writeText( selectedText );
            console.log( "clipboard.writeText(): " + selectedText );
        } else {
            console.log( "content.js: No text selected!" );
        }
      });
    });

  </script>
</head>
<body>
<textarea id="editor" placeholder="Type here" rows="10" cols="96"></textarea><br>
<div>selectionStart: <span id="start"></span></div>
<div>selectionEnd: <span id="end"></span></div>
<div>selectionDirection: <span id="direction"></span></div>
<div>selection: <span id="selection"></span></div>

</body>
</html>